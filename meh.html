<html>

<head>
    <script>
    
        var dx;
        var velocity = -10;
        var dy;
        var cursorX;
        var cursorY;
        var px = 500;
        var pmx = -5;
        var pmy = -5;
        var py = 500;
        var pxmax = 800;
        var pxmin = 200;
        var pymin = 200;
        var pymax = 800;
        function init() {


            document.onmousemove = function(e) {
                cursorX = e.pageX;
                cursorY = e.pageY;
            }

      //      console.log(dx + dy);

            loop();
        }

        function loop() {
            // px = cursorX;
            // py = cursorY;
           // console.log(px);
          //  console.log(py);
            dx = cursorX - parseInt(document.getElementById("a").style.left);
            dy = cursorY - parseInt(document.getElementById("a").style.top);
        
          
          //  console.log("px" + px + " " + py);

        //    var elmnt = document.getElementsByTagName("button")[0];
        //    var cln = elmnt.cloneNode(true);
         //   document.body.appendChild(cln);

            var a = document.getElementById("a").style;
            setTimeout(function() {

                //console.log(dx + "dx " + dy)
                angle = Math.atan2(dy, dx);
                //angle2 = Math.atan(dy, dx) * 180 / Math.PI;


               // console.log("angle" + angle);
                var xVelocity = velocity * Math.cos(angle);
                var yVelocity = velocity * Math.sin(angle);
                //var nxVelocity = velocity  * Math.cos(angle2);
                //var nyVelocity = velocity * Math.sin(angle2);
                //console.log(xVelocity);
              //  console.log(yVelocity);
              //  console.log(a.left);

                if (Math.abs(dx) < 50) {
                    document.getElementById("a").style.left = parseInt(document.getElementById("a").style.left) + xVelocity + 'px';
                }
                if (Math.abs(dy) < 50) {
                    document.getElementById("a").style.top = parseInt(document.getElementById("a").style.top) + yVelocity + 'px';
                }

                loop();
            }, 20);
        }
    </script>

</head>

<body onload="init(); ">
    <button id="a" style="position:absolute;left:750px;top:500px;" onclick="alert('you did it')">aaaaaa</button>
   
</body>

</html>
    
  